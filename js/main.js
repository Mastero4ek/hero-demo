(()=>{"use strict";var __webpack_modules__={206:()=>{eval("\n;// CONCATENATED MODULE: ./modules/change-cards.js\nconst changeCards = () => {\r\n\tconst cards = document.querySelector('.cards');\r\n\r\n\tcards.addEventListener('click', ({ target }) => {\r\n\t\tconst card = target.closest('.card');\r\n\r\n\t\tif (!card || target.closest('.card__description')) return;\r\n\r\n\t\tdocument.querySelector('.card--big').classList.remove('card--big');\r\n\t\tcard.classList.add('card--big');\r\n\t});\r\n}\r\n\r\n/* harmony default export */ const change_cards = (changeCards);\n;// CONCATENATED MODULE: ./modules/change-theme.js\nconst changeTheme = () => {\r\n    const body = document.querySelector('body'),\r\n        toggleBtn = document.getElementById('toggle');\r\n\r\n    localStorage.getItem('theme-btn') === 'true' ? toggleBtn.checked = true : toggleBtn.checked = false;\r\n\r\n    toggleBtn.addEventListener('change', () => {\r\n        if (toggleBtn.checked) {\r\n            body.classList.toggle('dark-theme');\r\n\r\n            localStorage.setItem('theme', body.classList.contains('dark-theme') ? 'dark-theme' : 'light-theme');\r\n            localStorage.setItem('theme-btn', true);\r\n        } else {\r\n            body.classList.toggle('dark-theme');\r\n\r\n            localStorage.setItem('theme', body.classList.contains('dark-theme') ? 'dark-theme' : 'light-theme');\r\n            localStorage.setItem('theme-btn', false);\r\n        }\r\n    });\r\n}\r\n\r\n/* harmony default export */ const change_theme = (changeTheme);\n;// CONCATENATED MODULE: ./modules/getData.js\nfunction getData(url) {\r\n    return fetch(url).then(response => response.json())\r\n}\r\n\r\n\n;// CONCATENATED MODULE: ./modules/scroll.js\nfunction scroll_scroll() {\r\n    const cardLinks = document.querySelectorAll('.card__link'),\r\n        scrollBtn = document.querySelector('.scroll-btn');\r\n\r\n    const scrollFrom = (elem) => {\r\n        const href = elem.getAttribute(\"href\"),\r\n            block = document.querySelector(href);\r\n\r\n        block.scrollIntoView({\r\n            behavior: \"smooth\",\r\n            block: \"start\"\r\n        });\r\n    }\r\n\r\n    cardLinks.forEach((link) => {\r\n        link.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n\r\n            scrollFrom(link);\r\n        });\r\n    });\r\n\r\n    scrollBtn.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n\r\n        scrollFrom(scrollBtn);\r\n    });\r\n}\r\n\r\n\n;// CONCATENATED MODULE: ./modules/turn-cards.js\nfunction turnCards() {\r\n    const cards = document.querySelectorAll('.card');\r\n\r\n    for (let i = 0; i < cards.length; i++) {\r\n        const card = cards[i];\r\n\r\n        const startRotateCard = (e) => {\r\n            const halfHeight = card.offsetHeight / 2,\r\n                halfWidth = card.offsetWidth / 2,\r\n                currentHeight = e.offsetY - halfHeight,\r\n                currentWidth = e.offsetX - halfWidth,\r\n                cardBig = document.querySelector('.card--big');\r\n\r\n            card.style.transform = `rotateX(${-currentHeight / 6}deg) rotateY(${currentWidth / 6}deg`;\r\n            card.style.boxShadow = `${-currentWidth / 10}px ${-currentHeight / 10}px 1rem .1rem var(--boxShadowColor)`;\r\n\r\n            cardBig.style.transform = '';\r\n            cardBig.style.boxShadow = '';\r\n        }\r\n\r\n        const stopRotateCard = (e) => {\r\n            card.style.transform = '';\r\n            card.style.boxShadow = '';\r\n        }\r\n\r\n        card.addEventListener('mousemove', startRotateCard);\r\n        card.addEventListener('mouseout', stopRotateCard);\r\n    }\r\n\r\n}\r\n\r\n\n;// CONCATENATED MODULE: ./modules/helpers.js\nfunction searchObj(arr, obj) {\r\n    return arr.filter(item => Object.keys(obj).every(key => item[key] === obj[key]));\r\n}\r\n\r\nfunction capitalize(str) {\r\n    if (!str) return\r\n\r\n    return str.replace(/(^|\\s)\\S/g, function (a) {\r\n        return a.toUpperCase();\r\n    });\r\n}\r\n\r\n\n;// CONCATENATED MODULE: ./modules/render.js\n\r\n\r\n\r\n\r\nfunction renderData(data) {\r\n\tconst cardsWrapper = document.getElementById('cards'),\r\n\t\tunknown = 'unknown';\r\n\r\n\tconst error = document.createElement('div');\r\n\terror.classList.add('cards-error');\r\n\r\n\terror.innerHTML = 'Hero not found!'\r\n\tcardsWrapper.innerHTML = '';\r\n\r\n\tdata.forEach((item) => {\r\n\t\tconst card = document.createElement('div');\r\n\r\n\t\tcard.classList.add('card');\r\n\r\n\t\tcard.insertAdjacentHTML('beforeend',\r\n\t\t\t`<a href=\"#filter\" class=\"card__link\"></a>\r\n\r\n\t\t\t\t<div class=\"card__photo\">\r\n\t\t\t\t\t<img src=${item.photo ? item.photo : unknown} alt=\"#\">\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<h4 class=\"card__name\">${item.name ? capitalize(item.name) : unknown}</h4>\r\n\r\n\t\t\t\t<div class=\"card__description\">\r\n\t\t\t\t\t<div class=\"card__value\">\r\n\t\t\t\t\t\t<p class=\"card__value-txt\">RealName: </p>\r\n\t\t\t\t\t\t<span class=\"card__txt card-realname\">${item.realName ? capitalize(item.realName) : unknown}</span>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"card__value\">\r\n\t\t\t\t\t\t<p class=\"card__value-txt\">Species: </p>\r\n\t\t\t\t\t\t<span class=\"card__txt card-species\">${item.species ? capitalize(item.species) : unknown}</span>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"card__value\">\r\n\t\t\t\t\t\t<p class=\"card__value-txt\">Citizenship: </p>\r\n\t\t\t\t\t\t<span class=\"card__txt card-citizenship\">${item.citizenship ? capitalize(item.citizenship) : unknown}</span>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"card__value\">\r\n\t\t\t\t\t\t<p class=\"card__value-txt\">Gender: </p>\r\n\t\t\t\t\t\t<span class=\"card__txt card-gender\">${item.gender ? capitalize(item.gender) : unknown}</span>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"card__value\">\r\n\t\t\t\t\t\t<p class=\"card__value-txt\">Years of life:</p>\r\n\t\t\t\t\t\t<span class=\"card__txt card-birthday\">${item.birthDay ? capitalize(item.birthDay) : unknown}-${item.deathDay ? item.deathDay : unknown}</span>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"card__value\">\r\n\t\t\t\t\t\t<p class=\"card__value-txt\">Status: </p>\r\n\t\t\t\t\t\t<span class=\"card__txt card-status\">${item.status ? capitalize(item.status) : unknown}</span>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"card__value\">\r\n\t\t\t\t\t\t<p class=\"card__value-txt\">Actors: </p>\r\n\t\t\t\t\t\t<span class=\"card__txt card-actor\">${item.actors ? capitalize(item.actors) : unknown}</span>\r\n\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t<div class=\"card__value movies\">\r\n\t\t\t\t\t\t<p class=\"card__value-txt\">Movies: </p>\r\n\t\t\t\t\t\t<span class=\"card__txt card-movies\">${item.movies ? item.movies : unknown}</span>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>`\r\n\t\t);\r\n\r\n\t\tcardsWrapper.append(card);\r\n\t});\r\n\r\n\tconst cards = document.querySelectorAll('.card');\r\n\r\n\tif (!cards[0]) return cardsWrapper.append(error);\r\n\tcards[0].classList.add('card--big');\r\n\r\n\tscroll_scroll();\r\n\tturnCards();\r\n}\r\n\r\n\n;// CONCATENATED MODULE: ./modules/filters.js\n\r\n\r\n\r\n\r\nconst filters = () => {\r\n    const gender = document.querySelectorAll('input[name=gender]'),\r\n        status = document.getElementById('status'),\r\n        species = document.getElementById('species'),\r\n        citizenship = document.getElementById('citizenship'),\r\n        movies = document.getElementById('movies'),\r\n\r\n        renderBtn = document.getElementById('render-button'),\r\n        deleteBtn = document.getElementById('delete-button');\r\n\r\n    let hero = {};\r\n    let newData = [];\r\n\r\n    function clearFilters() {\r\n        for (let i = 0; i < gender.length; i++) {\r\n            gender[i].checked = false;\r\n        }\r\n\r\n        status.value = '';\r\n        species.value = '';\r\n        citizenship.value = '';\r\n        movies.value = '';\r\n        input.value = '';\r\n\r\n        hero = {};\r\n        newData = [];\r\n    }\r\n    clearFilters()\r\n\r\n    function renderMovies(data) {\r\n        newData = [];\r\n\r\n        data.forEach(item => {\r\n            for (let i in item.movies) {\r\n                if (item.movies[i] == movies.value) {\r\n                    newData.push(item);\r\n                }\r\n            }\r\n        });\r\n\r\n        JSON.stringify(hero) == '{}' ? renderData(newData) : renderData(searchObj(newData, hero));\r\n    }\r\n\r\n    for (let i = 0; i < gender.length; i++) {\r\n        gender[i].addEventListener('change', () => {\r\n            if (gender[i].type == \"radio\" && gender[i].checked) {\r\n                hero.gender = gender[i].value;\r\n            }\r\n        });\r\n    }\r\n\r\n    status.addEventListener('change', () => hero.status = status.value);\r\n    species.addEventListener('change', () => hero.species = species.value);\r\n    citizenship.addEventListener('change', () => hero.citizenship = citizenship.value);\r\n    movies.addEventListener('change', () => getData('./db/dbHeroes.json').then((data) => renderMovies(data)));\r\n\r\n    renderBtn.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n\r\n        getData('./db/dbHeroes.json').then(data => movies.value == '' ? renderData(searchObj(data, hero)) : renderData(searchObj(newData, hero)));\r\n    });\r\n\r\n    deleteBtn.addEventListener('click', (e) => {\r\n        e.preventDefault();\r\n\r\n        clearFilters();\r\n        getData('./db/dbHeroes.json').then(data => renderData(data));\r\n    });\r\n}\r\n\r\n/* harmony default export */ const modules_filters = (filters);\n;// CONCATENATED MODULE: ./modules/search.js\n\r\n\r\n\r\nconst search = () => {\r\n    const input = document.getElementById('input');\r\n\r\n    let newData = [];\r\n\r\n    function renderByName(data) {\r\n        let value = input.value.trim();\r\n\r\n        newData = [];\r\n\r\n        if (value != '') {\r\n            data.forEach(item => {\r\n                if (!item.name) return;\r\n\r\n                if (item.name.includes(input.value)) {\r\n                    newData.push(item);\r\n                    renderData(newData);\r\n                } else {\r\n                    renderData(newData);\r\n                }\r\n            });\r\n        } else {\r\n            renderData(data);\r\n        }\r\n    }\r\n\r\n    input.addEventListener('input', () => getData('./db/dbHeroes.json').then(data => renderByName(data)));\r\n}\r\n\r\n/* harmony default export */ const modules_search = (search);\n;// CONCATENATED MODULE: ./modules/movies-filter.js\n\r\n\r\nconst filterMovies = () => {\r\n    const moviesFilter = document.getElementById('movies');\r\n\r\n    let movies = [],\r\n        currentMovies = [];\r\n\r\n    function sortValue(data) {\r\n        data.forEach((item) => {\r\n            if (!item.movies) return\r\n\r\n            item.movies.find((e) => {\r\n                movies.push(e);\r\n            });\r\n        });\r\n\r\n        currentMovies = new Set(movies);\r\n\r\n        currentMovies.forEach((item) => {\r\n            moviesFilter.insertAdjacentHTML('beforeend', `<option value=\"${item}\">${item}</option>`)\r\n        });\r\n    }\r\n\r\n    getData('./db/dbHeroes.json').then(data => sortValue(data));\r\n}\r\n\r\n/* harmony default export */ const movies_filter = (filterMovies);\n;// CONCATENATED MODULE: ./modules/citizenship-filter.js\n\r\n\r\n\r\nconst filterCitizenship = () => {\r\n    const citizenshipFilter = document.getElementById('citizenship');\r\n\r\n    let citizenship = [],\r\n        currentCitizenship = [];\r\n\r\n    function sortValue(data) {\r\n        data.forEach((item) => {\r\n            if (!item.citizenship) return\r\n\r\n            citizenship.push(capitalize(item.citizenship));\r\n        });\r\n\r\n        currentCitizenship = new Set(citizenship);\r\n\r\n        currentCitizenship.forEach((item) => {\r\n            citizenshipFilter.insertAdjacentHTML('beforeend', `<option value=\"${item}\">${item}</option>`)\r\n        });\r\n    }\r\n\r\n    getData('./db/dbHeroes.json').then(data => sortValue(data));\r\n}\r\n\r\n/* harmony default export */ const citizenship_filter = (filterCitizenship);\n;// CONCATENATED MODULE: ./index.js\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\ngetData('./db/dbHeroes.json').then(data => renderData(data));\r\n\r\nchange_cards()\r\nchange_theme()\r\nmodules_filters()\r\nmodules_search()\r\n\r\nmovies_filter()\r\ncitizenship_filter()//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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NUQ7QUFDMkM7QUFDRTtBQUM3QztBQUNBLE9BQU8sb0NBQW9DLFVBQVU7QUFDckQ7QUFDQSxZQUFXO0FBQ1gsWUFBVztBQUNYLGVBQU87QUFDUCxjQUFNO0FBQ047QUFDQSxhQUFZO0FBQ1osa0JBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vbW9kdWxlcy9jaGFuZ2UtY2FyZHMuanM/ZjZkMiIsIndlYnBhY2s6Ly8vLi9tb2R1bGVzL2NoYW5nZS10aGVtZS5qcz80OWNiIiwid2VicGFjazovLy8uL21vZHVsZXMvZ2V0RGF0YS5qcz84NzkyIiwid2VicGFjazovLy8uL21vZHVsZXMvc2Nyb2xsLmpzPzE3MzciLCJ3ZWJwYWNrOi8vLy4vbW9kdWxlcy90dXJuLWNhcmRzLmpzP2ZiZDMiLCJ3ZWJwYWNrOi8vLy4vbW9kdWxlcy9oZWxwZXJzLmpzPzRjNDAiLCJ3ZWJwYWNrOi8vLy4vbW9kdWxlcy9yZW5kZXIuanM/MjVkYiIsIndlYnBhY2s6Ly8vLi9tb2R1bGVzL2ZpbHRlcnMuanM/NTllMSIsIndlYnBhY2s6Ly8vLi9tb2R1bGVzL3NlYXJjaC5qcz83YzMyIiwid2VicGFjazovLy8uL21vZHVsZXMvbW92aWVzLWZpbHRlci5qcz8zMzNhIiwid2VicGFjazovLy8uL21vZHVsZXMvY2l0aXplbnNoaXAtZmlsdGVyLmpzPzI1M2YiLCJ3ZWJwYWNrOi8vLy4vaW5kZXguanM/NDFmNSJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjaGFuZ2VDYXJkcyA9ICgpID0+IHtcclxuXHRjb25zdCBjYXJkcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkcycpO1xyXG5cclxuXHRjYXJkcy5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICh7IHRhcmdldCB9KSA9PiB7XHJcblx0XHRjb25zdCBjYXJkID0gdGFyZ2V0LmNsb3Nlc3QoJy5jYXJkJyk7XHJcblxyXG5cdFx0aWYgKCFjYXJkIHx8IHRhcmdldC5jbG9zZXN0KCcuY2FyZF9fZGVzY3JpcHRpb24nKSkgcmV0dXJuO1xyXG5cclxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jYXJkLS1iaWcnKS5jbGFzc0xpc3QucmVtb3ZlKCdjYXJkLS1iaWcnKTtcclxuXHRcdGNhcmQuY2xhc3NMaXN0LmFkZCgnY2FyZC0tYmlnJyk7XHJcblx0fSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNoYW5nZUNhcmRzIiwiY29uc3QgY2hhbmdlVGhlbWUgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBib2R5ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignYm9keScpLFxyXG4gICAgICAgIHRvZ2dsZUJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd0b2dnbGUnKTtcclxuXHJcbiAgICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgndGhlbWUtYnRuJykgPT09ICd0cnVlJyA/IHRvZ2dsZUJ0bi5jaGVja2VkID0gdHJ1ZSA6IHRvZ2dsZUJ0bi5jaGVja2VkID0gZmFsc2U7XHJcblxyXG4gICAgdG9nZ2xlQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IHtcclxuICAgICAgICBpZiAodG9nZ2xlQnRuLmNoZWNrZWQpIHtcclxuICAgICAgICAgICAgYm9keS5jbGFzc0xpc3QudG9nZ2xlKCdkYXJrLXRoZW1lJyk7XHJcblxyXG4gICAgICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgndGhlbWUnLCBib2R5LmNsYXNzTGlzdC5jb250YWlucygnZGFyay10aGVtZScpID8gJ2RhcmstdGhlbWUnIDogJ2xpZ2h0LXRoZW1lJyk7XHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0aGVtZS1idG4nLCB0cnVlKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBib2R5LmNsYXNzTGlzdC50b2dnbGUoJ2RhcmstdGhlbWUnKTtcclxuXHJcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd0aGVtZScsIGJvZHkuY2xhc3NMaXN0LmNvbnRhaW5zKCdkYXJrLXRoZW1lJykgPyAnZGFyay10aGVtZScgOiAnbGlnaHQtdGhlbWUnKTtcclxuICAgICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oJ3RoZW1lLWJ0bicsIGZhbHNlKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2hhbmdlVGhlbWUiLCJmdW5jdGlvbiBnZXREYXRhKHVybCkge1xyXG4gICAgcmV0dXJuIGZldGNoKHVybCkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpXHJcbn1cclxuXHJcbmV4cG9ydCB7IGdldERhdGEgfSIsImZ1bmN0aW9uIHNjcm9sbCgpIHtcclxuICAgIGNvbnN0IGNhcmRMaW5rcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoJy5jYXJkX19saW5rJyksXHJcbiAgICAgICAgc2Nyb2xsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnNjcm9sbC1idG4nKTtcclxuXHJcbiAgICBjb25zdCBzY3JvbGxGcm9tID0gKGVsZW0pID0+IHtcclxuICAgICAgICBjb25zdCBocmVmID0gZWxlbS5nZXRBdHRyaWJ1dGUoXCJocmVmXCIpLFxyXG4gICAgICAgICAgICBibG9jayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoaHJlZik7XHJcblxyXG4gICAgICAgIGJsb2NrLnNjcm9sbEludG9WaWV3KHtcclxuICAgICAgICAgICAgYmVoYXZpb3I6IFwic21vb3RoXCIsXHJcbiAgICAgICAgICAgIGJsb2NrOiBcInN0YXJ0XCJcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBjYXJkTGlua3MuZm9yRWFjaCgobGluaykgPT4ge1xyXG4gICAgICAgIGxpbmsuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBzY3JvbGxGcm9tKGxpbmspO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgc2Nyb2xsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgIHNjcm9sbEZyb20oc2Nyb2xsQnRuKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgeyBzY3JvbGwgfSIsImZ1bmN0aW9uIHR1cm5DYXJkcygpIHtcclxuICAgIGNvbnN0IGNhcmRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmNhcmQnKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhcmRzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgY2FyZCA9IGNhcmRzW2ldO1xyXG5cclxuICAgICAgICBjb25zdCBzdGFydFJvdGF0ZUNhcmQgPSAoZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBoYWxmSGVpZ2h0ID0gY2FyZC5vZmZzZXRIZWlnaHQgLyAyLFxyXG4gICAgICAgICAgICAgICAgaGFsZldpZHRoID0gY2FyZC5vZmZzZXRXaWR0aCAvIDIsXHJcbiAgICAgICAgICAgICAgICBjdXJyZW50SGVpZ2h0ID0gZS5vZmZzZXRZIC0gaGFsZkhlaWdodCxcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRXaWR0aCA9IGUub2Zmc2V0WCAtIGhhbGZXaWR0aCxcclxuICAgICAgICAgICAgICAgIGNhcmRCaWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY2FyZC0tYmlnJyk7XHJcblxyXG4gICAgICAgICAgICBjYXJkLnN0eWxlLnRyYW5zZm9ybSA9IGByb3RhdGVYKCR7LWN1cnJlbnRIZWlnaHQgLyA2fWRlZykgcm90YXRlWSgke2N1cnJlbnRXaWR0aCAvIDZ9ZGVnYDtcclxuICAgICAgICAgICAgY2FyZC5zdHlsZS5ib3hTaGFkb3cgPSBgJHstY3VycmVudFdpZHRoIC8gMTB9cHggJHstY3VycmVudEhlaWdodCAvIDEwfXB4IDFyZW0gLjFyZW0gdmFyKC0tYm94U2hhZG93Q29sb3IpYDtcclxuXHJcbiAgICAgICAgICAgIGNhcmRCaWcuc3R5bGUudHJhbnNmb3JtID0gJyc7XHJcbiAgICAgICAgICAgIGNhcmRCaWcuc3R5bGUuYm94U2hhZG93ID0gJyc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBzdG9wUm90YXRlQ2FyZCA9IChlKSA9PiB7XHJcbiAgICAgICAgICAgIGNhcmQuc3R5bGUudHJhbnNmb3JtID0gJyc7XHJcbiAgICAgICAgICAgIGNhcmQuc3R5bGUuYm94U2hhZG93ID0gJyc7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjYXJkLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHN0YXJ0Um90YXRlQ2FyZCk7XHJcbiAgICAgICAgY2FyZC5hZGRFdmVudExpc3RlbmVyKCdtb3VzZW91dCcsIHN0b3BSb3RhdGVDYXJkKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmV4cG9ydCB7IHR1cm5DYXJkcyB9IiwiZnVuY3Rpb24gc2VhcmNoT2JqKGFyciwgb2JqKSB7XHJcbiAgICByZXR1cm4gYXJyLmZpbHRlcihpdGVtID0+IE9iamVjdC5rZXlzKG9iaikuZXZlcnkoa2V5ID0+IGl0ZW1ba2V5XSA9PT0gb2JqW2tleV0pKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2FwaXRhbGl6ZShzdHIpIHtcclxuICAgIGlmICghc3RyKSByZXR1cm5cclxuXHJcbiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyhefFxccylcXFMvZywgZnVuY3Rpb24gKGEpIHtcclxuICAgICAgICByZXR1cm4gYS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7IHNlYXJjaE9iaiwgY2FwaXRhbGl6ZSB9IiwiaW1wb3J0IHsgc2Nyb2xsIH0gZnJvbSAnLi9zY3JvbGwnXHJcbmltcG9ydCB7IHR1cm5DYXJkcyB9IGZyb20gJy4vdHVybi1jYXJkcydcclxuaW1wb3J0IHsgY2FwaXRhbGl6ZSB9IGZyb20gJy4vaGVscGVycydcclxuXHJcbmZ1bmN0aW9uIHJlbmRlckRhdGEoZGF0YSkge1xyXG5cdGNvbnN0IGNhcmRzV3JhcHBlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYXJkcycpLFxyXG5cdFx0dW5rbm93biA9ICd1bmtub3duJztcclxuXHJcblx0Y29uc3QgZXJyb3IgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKTtcclxuXHRlcnJvci5jbGFzc0xpc3QuYWRkKCdjYXJkcy1lcnJvcicpO1xyXG5cclxuXHRlcnJvci5pbm5lckhUTUwgPSAnSGVybyBub3QgZm91bmQhJ1xyXG5cdGNhcmRzV3JhcHBlci5pbm5lckhUTUwgPSAnJztcclxuXHJcblx0ZGF0YS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcblx0XHRjb25zdCBjYXJkID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2Jyk7XHJcblxyXG5cdFx0Y2FyZC5jbGFzc0xpc3QuYWRkKCdjYXJkJyk7XHJcblxyXG5cdFx0Y2FyZC5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsXHJcblx0XHRcdGA8YSBocmVmPVwiI2ZpbHRlclwiIGNsYXNzPVwiY2FyZF9fbGlua1wiPjwvYT5cclxuXHJcblx0XHRcdFx0PGRpdiBjbGFzcz1cImNhcmRfX3Bob3RvXCI+XHJcblx0XHRcdFx0XHQ8aW1nIHNyYz0ke2l0ZW0ucGhvdG8gPyBpdGVtLnBob3RvIDogdW5rbm93bn0gYWx0PVwiI1wiPlxyXG5cdFx0XHRcdDwvZGl2PlxyXG5cclxuXHRcdFx0XHQ8aDQgY2xhc3M9XCJjYXJkX19uYW1lXCI+JHtpdGVtLm5hbWUgPyBjYXBpdGFsaXplKGl0ZW0ubmFtZSkgOiB1bmtub3dufTwvaDQ+XHJcblxyXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJjYXJkX19kZXNjcmlwdGlvblwiPlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNhcmRfX3ZhbHVlXCI+XHJcblx0XHRcdFx0XHRcdDxwIGNsYXNzPVwiY2FyZF9fdmFsdWUtdHh0XCI+UmVhbE5hbWU6IDwvcD5cclxuXHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJjYXJkX190eHQgY2FyZC1yZWFsbmFtZVwiPiR7aXRlbS5yZWFsTmFtZSA/IGNhcGl0YWxpemUoaXRlbS5yZWFsTmFtZSkgOiB1bmtub3dufTwvc3Bhbj5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjYXJkX192YWx1ZVwiPlxyXG5cdFx0XHRcdFx0XHQ8cCBjbGFzcz1cImNhcmRfX3ZhbHVlLXR4dFwiPlNwZWNpZXM6IDwvcD5cclxuXHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJjYXJkX190eHQgY2FyZC1zcGVjaWVzXCI+JHtpdGVtLnNwZWNpZXMgPyBjYXBpdGFsaXplKGl0ZW0uc3BlY2llcykgOiB1bmtub3dufTwvc3Bhbj5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjYXJkX192YWx1ZVwiPlxyXG5cdFx0XHRcdFx0XHQ8cCBjbGFzcz1cImNhcmRfX3ZhbHVlLXR4dFwiPkNpdGl6ZW5zaGlwOiA8L3A+XHJcblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiY2FyZF9fdHh0IGNhcmQtY2l0aXplbnNoaXBcIj4ke2l0ZW0uY2l0aXplbnNoaXAgPyBjYXBpdGFsaXplKGl0ZW0uY2l0aXplbnNoaXApIDogdW5rbm93bn08L3NwYW4+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2FyZF9fdmFsdWVcIj5cclxuXHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJjYXJkX192YWx1ZS10eHRcIj5HZW5kZXI6IDwvcD5cclxuXHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJjYXJkX190eHQgY2FyZC1nZW5kZXJcIj4ke2l0ZW0uZ2VuZGVyID8gY2FwaXRhbGl6ZShpdGVtLmdlbmRlcikgOiB1bmtub3dufTwvc3Bhbj5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjYXJkX192YWx1ZVwiPlxyXG5cdFx0XHRcdFx0XHQ8cCBjbGFzcz1cImNhcmRfX3ZhbHVlLXR4dFwiPlllYXJzIG9mIGxpZmU6PC9wPlxyXG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImNhcmRfX3R4dCBjYXJkLWJpcnRoZGF5XCI+JHtpdGVtLmJpcnRoRGF5ID8gY2FwaXRhbGl6ZShpdGVtLmJpcnRoRGF5KSA6IHVua25vd259LSR7aXRlbS5kZWF0aERheSA/IGl0ZW0uZGVhdGhEYXkgOiB1bmtub3dufTwvc3Bhbj5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjYXJkX192YWx1ZVwiPlxyXG5cdFx0XHRcdFx0XHQ8cCBjbGFzcz1cImNhcmRfX3ZhbHVlLXR4dFwiPlN0YXR1czogPC9wPlxyXG5cdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImNhcmRfX3R4dCBjYXJkLXN0YXR1c1wiPiR7aXRlbS5zdGF0dXMgPyBjYXBpdGFsaXplKGl0ZW0uc3RhdHVzKSA6IHVua25vd259PC9zcGFuPlxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNhcmRfX3ZhbHVlXCI+XHJcblx0XHRcdFx0XHRcdDxwIGNsYXNzPVwiY2FyZF9fdmFsdWUtdHh0XCI+QWN0b3JzOiA8L3A+XHJcblx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiY2FyZF9fdHh0IGNhcmQtYWN0b3JcIj4ke2l0ZW0uYWN0b3JzID8gY2FwaXRhbGl6ZShpdGVtLmFjdG9ycykgOiB1bmtub3dufTwvc3Bhbj5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjYXJkX192YWx1ZSBtb3ZpZXNcIj5cclxuXHRcdFx0XHRcdFx0PHAgY2xhc3M9XCJjYXJkX192YWx1ZS10eHRcIj5Nb3ZpZXM6IDwvcD5cclxuXHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJjYXJkX190eHQgY2FyZC1tb3ZpZXNcIj4ke2l0ZW0ubW92aWVzID8gaXRlbS5tb3ZpZXMgOiB1bmtub3dufTwvc3Bhbj5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdDwvZGl2PmBcclxuXHRcdCk7XHJcblxyXG5cdFx0Y2FyZHNXcmFwcGVyLmFwcGVuZChjYXJkKTtcclxuXHR9KTtcclxuXHJcblx0Y29uc3QgY2FyZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY2FyZCcpO1xyXG5cclxuXHRpZiAoIWNhcmRzWzBdKSByZXR1cm4gY2FyZHNXcmFwcGVyLmFwcGVuZChlcnJvcik7XHJcblx0Y2FyZHNbMF0uY2xhc3NMaXN0LmFkZCgnY2FyZC0tYmlnJyk7XHJcblxyXG5cdHNjcm9sbCgpO1xyXG5cdHR1cm5DYXJkcygpO1xyXG59XHJcblxyXG5leHBvcnQgeyByZW5kZXJEYXRhIH0iLCJpbXBvcnQgeyBnZXREYXRhIH0gZnJvbSAnLi9nZXREYXRhJ1xyXG5pbXBvcnQgeyByZW5kZXJEYXRhIH0gZnJvbSAnLi9yZW5kZXInXHJcbmltcG9ydCB7IHNlYXJjaE9iaiB9IGZyb20gJy4vaGVscGVycydcclxuXHJcbmNvbnN0IGZpbHRlcnMgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBnZW5kZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdpbnB1dFtuYW1lPWdlbmRlcl0nKSxcclxuICAgICAgICBzdGF0dXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnc3RhdHVzJyksXHJcbiAgICAgICAgc3BlY2llcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdzcGVjaWVzJyksXHJcbiAgICAgICAgY2l0aXplbnNoaXAgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2l0aXplbnNoaXAnKSxcclxuICAgICAgICBtb3ZpZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW92aWVzJyksXHJcblxyXG4gICAgICAgIHJlbmRlckJ0biA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW5kZXItYnV0dG9uJyksXHJcbiAgICAgICAgZGVsZXRlQnRuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbGV0ZS1idXR0b24nKTtcclxuXHJcbiAgICBsZXQgaGVybyA9IHt9O1xyXG4gICAgbGV0IG5ld0RhdGEgPSBbXTtcclxuXHJcbiAgICBmdW5jdGlvbiBjbGVhckZpbHRlcnMoKSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnZW5kZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZ2VuZGVyW2ldLmNoZWNrZWQgPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHN0YXR1cy52YWx1ZSA9ICcnO1xyXG4gICAgICAgIHNwZWNpZXMudmFsdWUgPSAnJztcclxuICAgICAgICBjaXRpemVuc2hpcC52YWx1ZSA9ICcnO1xyXG4gICAgICAgIG1vdmllcy52YWx1ZSA9ICcnO1xyXG4gICAgICAgIGlucHV0LnZhbHVlID0gJyc7XHJcblxyXG4gICAgICAgIGhlcm8gPSB7fTtcclxuICAgICAgICBuZXdEYXRhID0gW107XHJcbiAgICB9XHJcbiAgICBjbGVhckZpbHRlcnMoKVxyXG5cclxuICAgIGZ1bmN0aW9uIHJlbmRlck1vdmllcyhkYXRhKSB7XHJcbiAgICAgICAgbmV3RGF0YSA9IFtdO1xyXG5cclxuICAgICAgICBkYXRhLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgaW4gaXRlbS5tb3ZpZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLm1vdmllc1tpXSA9PSBtb3ZpZXMudmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBuZXdEYXRhLnB1c2goaXRlbSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgSlNPTi5zdHJpbmdpZnkoaGVybykgPT0gJ3t9JyA/IHJlbmRlckRhdGEobmV3RGF0YSkgOiByZW5kZXJEYXRhKHNlYXJjaE9iaihuZXdEYXRhLCBoZXJvKSk7XHJcbiAgICB9XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBnZW5kZXIubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBnZW5kZXJbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZ2VuZGVyW2ldLnR5cGUgPT0gXCJyYWRpb1wiICYmIGdlbmRlcltpXS5jaGVja2VkKSB7XHJcbiAgICAgICAgICAgICAgICBoZXJvLmdlbmRlciA9IGdlbmRlcltpXS52YWx1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHN0YXR1cy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiBoZXJvLnN0YXR1cyA9IHN0YXR1cy52YWx1ZSk7XHJcbiAgICBzcGVjaWVzLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsICgpID0+IGhlcm8uc3BlY2llcyA9IHNwZWNpZXMudmFsdWUpO1xyXG4gICAgY2l0aXplbnNoaXAuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgKCkgPT4gaGVyby5jaXRpemVuc2hpcCA9IGNpdGl6ZW5zaGlwLnZhbHVlKTtcclxuICAgIG1vdmllcy5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCAoKSA9PiBnZXREYXRhKCcuL2RiL2RiSGVyb2VzLmpzb24nKS50aGVuKChkYXRhKSA9PiByZW5kZXJNb3ZpZXMoZGF0YSkpKTtcclxuXHJcbiAgICByZW5kZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgZ2V0RGF0YSgnLi9kYi9kYkhlcm9lcy5qc29uJykudGhlbihkYXRhID0+IG1vdmllcy52YWx1ZSA9PSAnJyA/IHJlbmRlckRhdGEoc2VhcmNoT2JqKGRhdGEsIGhlcm8pKSA6IHJlbmRlckRhdGEoc2VhcmNoT2JqKG5ld0RhdGEsIGhlcm8pKSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBkZWxldGVCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgY2xlYXJGaWx0ZXJzKCk7XHJcbiAgICAgICAgZ2V0RGF0YSgnLi9kYi9kYkhlcm9lcy5qc29uJykudGhlbihkYXRhID0+IHJlbmRlckRhdGEoZGF0YSkpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGZpbHRlcnMiLCJpbXBvcnQgeyBnZXREYXRhIH0gZnJvbSBcIi4vZ2V0RGF0YVwiXHJcbmltcG9ydCB7IHJlbmRlckRhdGEgfSBmcm9tIFwiLi9yZW5kZXJcIlxyXG5cclxuY29uc3Qgc2VhcmNoID0gKCkgPT4ge1xyXG4gICAgY29uc3QgaW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnaW5wdXQnKTtcclxuXHJcbiAgICBsZXQgbmV3RGF0YSA9IFtdO1xyXG5cclxuICAgIGZ1bmN0aW9uIHJlbmRlckJ5TmFtZShkYXRhKSB7XHJcbiAgICAgICAgbGV0IHZhbHVlID0gaW5wdXQudmFsdWUudHJpbSgpO1xyXG5cclxuICAgICAgICBuZXdEYXRhID0gW107XHJcblxyXG4gICAgICAgIGlmICh2YWx1ZSAhPSAnJykge1xyXG4gICAgICAgICAgICBkYXRhLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWl0ZW0ubmFtZSkgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpdGVtLm5hbWUuaW5jbHVkZXMoaW5wdXQudmFsdWUpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgbmV3RGF0YS5wdXNoKGl0ZW0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlckRhdGEobmV3RGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlbmRlckRhdGEobmV3RGF0YSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHJlbmRlckRhdGEoZGF0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGlucHV0LmFkZEV2ZW50TGlzdGVuZXIoJ2lucHV0JywgKCkgPT4gZ2V0RGF0YSgnLi9kYi9kYkhlcm9lcy5qc29uJykudGhlbihkYXRhID0+IHJlbmRlckJ5TmFtZShkYXRhKSkpO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBzZWFyY2giLCJpbXBvcnQgeyBnZXREYXRhIH0gZnJvbSBcIi4vZ2V0RGF0YVwiXHJcblxyXG5jb25zdCBmaWx0ZXJNb3ZpZXMgPSAoKSA9PiB7XHJcbiAgICBjb25zdCBtb3ZpZXNGaWx0ZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbW92aWVzJyk7XHJcblxyXG4gICAgbGV0IG1vdmllcyA9IFtdLFxyXG4gICAgICAgIGN1cnJlbnRNb3ZpZXMgPSBbXTtcclxuXHJcbiAgICBmdW5jdGlvbiBzb3J0VmFsdWUoZGF0YSkge1xyXG4gICAgICAgIGRhdGEuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIWl0ZW0ubW92aWVzKSByZXR1cm5cclxuXHJcbiAgICAgICAgICAgIGl0ZW0ubW92aWVzLmZpbmQoKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIG1vdmllcy5wdXNoKGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY3VycmVudE1vdmllcyA9IG5ldyBTZXQobW92aWVzKTtcclxuXHJcbiAgICAgICAgY3VycmVudE1vdmllcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgIG1vdmllc0ZpbHRlci5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8b3B0aW9uIHZhbHVlPVwiJHtpdGVtfVwiPiR7aXRlbX08L29wdGlvbj5gKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERhdGEoJy4vZGIvZGJIZXJvZXMuanNvbicpLnRoZW4oZGF0YSA9PiBzb3J0VmFsdWUoZGF0YSkpO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmaWx0ZXJNb3ZpZXMiLCJpbXBvcnQgeyBnZXREYXRhIH0gZnJvbSBcIi4vZ2V0RGF0YVwiXHJcbmltcG9ydCB7IGNhcGl0YWxpemUgfSBmcm9tIFwiLi9oZWxwZXJzXCI7XHJcblxyXG5jb25zdCBmaWx0ZXJDaXRpemVuc2hpcCA9ICgpID0+IHtcclxuICAgIGNvbnN0IGNpdGl6ZW5zaGlwRmlsdGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NpdGl6ZW5zaGlwJyk7XHJcblxyXG4gICAgbGV0IGNpdGl6ZW5zaGlwID0gW10sXHJcbiAgICAgICAgY3VycmVudENpdGl6ZW5zaGlwID0gW107XHJcblxyXG4gICAgZnVuY3Rpb24gc29ydFZhbHVlKGRhdGEpIHtcclxuICAgICAgICBkYXRhLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgaWYgKCFpdGVtLmNpdGl6ZW5zaGlwKSByZXR1cm5cclxuXHJcbiAgICAgICAgICAgIGNpdGl6ZW5zaGlwLnB1c2goY2FwaXRhbGl6ZShpdGVtLmNpdGl6ZW5zaGlwKSk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGN1cnJlbnRDaXRpemVuc2hpcCA9IG5ldyBTZXQoY2l0aXplbnNoaXApO1xyXG5cclxuICAgICAgICBjdXJyZW50Q2l0aXplbnNoaXAuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICBjaXRpemVuc2hpcEZpbHRlci5pbnNlcnRBZGphY2VudEhUTUwoJ2JlZm9yZWVuZCcsIGA8b3B0aW9uIHZhbHVlPVwiJHtpdGVtfVwiPiR7aXRlbX08L29wdGlvbj5gKVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERhdGEoJy4vZGIvZGJIZXJvZXMuanNvbicpLnRoZW4oZGF0YSA9PiBzb3J0VmFsdWUoZGF0YSkpO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBmaWx0ZXJDaXRpemVuc2hpcCIsImltcG9ydCBjaGFuZ2VDYXJkcyBmcm9tICcuL21vZHVsZXMvY2hhbmdlLWNhcmRzJ1xyXG5pbXBvcnQgY2hhbmdlVGhlbWUgZnJvbSAnLi9tb2R1bGVzL2NoYW5nZS10aGVtZSdcclxuaW1wb3J0IGZpbHRlcnMgZnJvbSAnLi9tb2R1bGVzL2ZpbHRlcnMnXHJcbmltcG9ydCBzZWFyY2ggZnJvbSAnLi9tb2R1bGVzL3NlYXJjaCdcclxuXHJcbmltcG9ydCBmaWx0ZXJNb3ZpZXMgZnJvbSAnLi9tb2R1bGVzL21vdmllcy1maWx0ZXInXHJcbmltcG9ydCBmaWx0ZXJDaXRpemVuc2hpcCBmcm9tICcuL21vZHVsZXMvY2l0aXplbnNoaXAtZmlsdGVyJ1xyXG5cclxuaW1wb3J0IHsgZ2V0RGF0YSB9IGZyb20gJy4vbW9kdWxlcy9nZXREYXRhJ1xyXG5pbXBvcnQgeyByZW5kZXJEYXRhIH0gZnJvbSAnLi9tb2R1bGVzL3JlbmRlcidcclxuXHJcbmdldERhdGEoJy4vZGIvZGJIZXJvZXMuanNvbicpLnRoZW4oZGF0YSA9PiByZW5kZXJEYXRhKGRhdGEpKTtcclxuXHJcbmNoYW5nZUNhcmRzKClcclxuY2hhbmdlVGhlbWUoKVxyXG5maWx0ZXJzKClcclxuc2VhcmNoKClcclxuXHJcbmZpbHRlck1vdmllcygpXHJcbmZpbHRlckNpdGl6ZW5zaGlwKCkiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///206\n")}},__webpack_exports__={};__webpack_modules__[206]()})();